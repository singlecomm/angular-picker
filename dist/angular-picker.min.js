!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],t);else{var n=t("object"==typeof exports?require("angular"):e.angular);for(var l in n)("object"==typeof exports?exports:e)[l]=n[l]}}(this,function(e){return function(e){function t(l){if(n[l])return n[l].exports;var i=n[l]={exports:{},id:l,loaded:!1};return e[l].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=l(i),a=n(3),r=l(a);n(2),t["default"]=s["default"].module("angularPicker",[]).directive("picker",r["default"]).name,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){},function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function i(){"ngInject";return{scope:{options:"=?",choices:"=",ngModel:"="},templateUrl:c["default"],controllerAs:"vm",bindToController:!0,controller:["$scope",function(e){var t=this,n={items:[],shown:[],selected:[],pages:[],currentPage:1,pagesLen:1,itemsLen:0};t.ngModel=t.ngModel||[],t.left={},t.right={},t.options=t.options||{},t.pageSize=10,t.left=a["default"].copy(n),t.right=a["default"].copy(n),t.right.items=t.ngModel,t.right.itemsLen=t.ngModel.length,t.choices&&(t.choices=t.choices.concat(t.ngModel)),t.filterChoices=function(){var e=a["default"].copy(t.right.items);t.ngModel=a["default"].copy(t.right.items),t.right.pages=[],t.left.pages=[];var n=[];if(a["default"].forEach(t.choices,function(t){var l=!1;a["default"].forEach(e,function(e){t.id===e.id&&(l=!0)}),l||n.push(t)}),t.left.items=n.slice(0),t.left.itemsLen=n.length,n&&n.length>0)for(;n.length>0;)t.left.pages.push(n.splice(0,t.pageSize));if(t.left.pagesLen=t.left.pages.length,t.left.currentPage>t.left.pages.length&&t.left.pages.length>0&&(t.left.currentPage=t.left.pages.length),t.left.shown=t.left.pages[Math.min(t.left.currentPage,t.left.pages.length)-1],e&&e.length>0)for(;e.length>0;)t.right.pages.push(e.splice(0,t.pageSize));t.right.currentPage>t.right.pages.length&&t.right.pages.length>0&&(t.right.currentPage=t.right.pages.length),t.right.pagesLen=t.right.pages.length,t.right.itemsLen=t.ngModel.length,t.right.shown=t.right.pages[Math.min(t.right.currentPage,t.right.pages.length)-1],t.right.filter&&t.filterShownItems("right"),t.left.filter&&t.filterShownItems("left")},t.filterShownItems=function(e){var n=t[e].filter;if(n){t[e].pages=[];var l=t[e].items,i=[];for(t[e].shown=[],a["default"].forEach(l,function(e){var l=e.label||t.options.label(e);l.toLowerCase().indexOf(n.toLowerCase())>-1&&i.push(e)}),t[e].itemsLen=i.length;i.length>0;)t[e].pages.push(i.splice(0,t.pageSize));t[e].shown=t[e].pages[0],t[e].currentPage=1,t[e].pagesLen=t[e].pages.length}else t.filterChoices()},t.clearFilter=function(e){t[e].filter="",t.filterChoices()},e.$watch(function(){return t.choices},function(){t.filterChoices()},!0),e.$watch(function(){return t.ngModel.length},function(){t.right.items=a["default"].copy(t.ngModel),t.filterChoices()}),t.move=function(e,n){if(n){var l="left"===e?"right":"left";t[l].items=t[l].items.filter(function(e){return e.id!==n.id}),t[e].items=t[e].items||[],t[e].items.push(n),t.filterChoices()}},t.nextPage=function(e){t[e].shown=t[e].pages[t[e].currentPage++]},t.previousPage=function(e){t[e].currentPage--,t[e].shown=t[e].pages[t[e].currentPage-1]},t.moveAll=function(e){var n="left"===e?"right":"left",l=a["default"].copy(t[n].items);t[e].items=t[e].items||[],a["default"].forEach(l,function(l){t[n].items=t[n].items.filter(function(e){return e.id!==l.id}),t[e].items.push(l)}),t[n].selected=[],t[e].selected=[],t.filterChoices()},t.moveSelected=function(e){var n="left"===e?"right":"left",l=t[n].items.slice(0);t[e].items=t[e].items||[],a["default"].forEach(l,function(l){t.isItemSelected(n,l)&&(t[n].items=t[n].items.filter(function(e){return e.id!==l.id}),t[e].items.push(l))}),t[n].selected=[],t[e].selected=[],t.filterChoices()},t.toggleSelected=function(e,n){t.isItemSelected(e,n)?t[e].selected=t[e].selected.filter(function(e){return e.id!==n.id}):t[e].selected.push(n)},t.isItemSelected=function(e,n){var l=!1;return a["default"].forEach(t[e].selected,function(e){n.id===e.id&&(l=!0)}),l},t.sortableOptions={placeholder:"item",connectWith:".item-container"}}]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=n(1),a=l(s),r=n(4),c=l(r);e.exports=t["default"]},function(e,t){var n="/Users/michael/SingleComm/angular-picker/src/templates/picker.html",l='<div class="picker row"> <div class="col-xs-6 left-control"> <label>Available</label> <span class="fa fa-times clear-filter" ng-if=vm.left.filter ng-click="vm.clearFilter(\'left\')"></span> <input ng-model=vm.left.filter type=search class=form-control placeholder=Filter ng-change="vm.filterShownItems(\'left\')"/> <div class=buttons> <button type=button ng-click="vm.moveAll(\'right\')" class=all type=button><i class="fa fa-angle-double-right"></i></button> <button type=button ng-click="vm.moveSelected(\'right\')" class=single type=button><i class="fa fa-angle-right"></i></button> </div> <div class=item-container-wrapper> <ul class=item-container> <span class=picker-message ng-if=!vm.left.shown.length> <span ng-if=vm.left.filter>No items found</span> <span ng-if=!vm.left.filter>No items available</span> </span> <li ng-dblclick="vm.move(\'right\', item)" ng-class="{ active: vm.isItemSelected(\'left\', item) }" class="item lock" ng-click="vm.toggleSelected(\'left\', item)" ng-repeat="item in vm.left.shown"> <span>{{vm.options.label ? vm.options.label(item) : item.label}}</span> </li> </ul> </div> <p class=clearfix> <span class=pull-left>{{ vm.left.selected.length }} selected. Showing {{ vm.left.shown.length }} of {{ vm.left.itemsLen }}.</span> <span class=pull-right ng-if="vm.left.pagesLen>1"> <button type=button ng-disabled="vm.left.currentPage == \'1\'" class="btn btn-xs btn-default" ng-click="vm.previousPage(\'left\')"><span class="fa fa-chevron-left"></span></button> <span>PAGE {{vm.left.currentPage}} OF {{vm.left.pagesLen}}</span> <button type=button ng-disabled="vm.left.currentPage == vm.left.pagesLen" class="btn btn-xs btn-default" ng-click="vm.nextPage(\'left\')"><span class="fa fa-chevron-right"></span></button> </span> </p> </div> <div class="col-xs-6 right-control"> <label>Selected</label> <span class="fa fa-times clear-filter" ng-if=vm.right.filter ng-click="vm.clearFilter(\'right\')"></span> <input ng-model=vm.right.filter type=search class=form-control placeholder=Filter ng-change="vm.filterShownItems(\'right\')"/> <div class=buttons> <button type=button ng-click="vm.moveSelected(\'left\')" class=single type=button><i class="fa fa-angle-left"></i></button> <button type=button ng-click="vm.moveAll(\'left\')" class=all type=button><i class="fa fa-angle-double-left"></i></button> </div> <div class=item-container-wrapper> <ul class=item-container> <span class=picker-message ng-if=!vm.right.shown.length> No items <span ng-if=vm.right.filter>found</span> <span ng-if=!vm.right.filter>selected</span> </span> <li ng-dblclick="vm.move(\'left\', item)" ng-class="{ active: vm.isItemSelected(\'right\', item) }" class=item ng-click="vm.toggleSelected(\'right\', item)" ng-repeat="item in vm.right.shown"> <span>{{vm.options.label ? vm.options.label(item) : item.label}}</span> </li> </ul> </div> <p class=clearfix> <span class=pull-left>{{ vm.right.selected.length }} selected. Showing {{ vm.right.shown.length }} of {{ vm.right.itemsLen }}.</span> <span class=pull-right ng-if="vm.right.pagesLen>1"> <button type=button ng-disabled="vm.right.currentPage == \'1\'" class="btn btn-xs btn-default" ng-click="vm.previousPage(\'right\')"><span class="fa fa-chevron-left"></span></button> <span>PAGE {{vm.right.currentPage}} OF {{vm.right.pagesLen}}</span> <button type=button ng-disabled="vm.right.currentPage == vm.right.pagesLen" class="btn btn-xs btn-default" ng-click="vm.nextPage(\'right\')"><span class="fa fa-chevron-right"></span></button> </span> </p> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,l)}]),e.exports=n}])});
//# sourceMappingURL=angular-picker.min.js.map