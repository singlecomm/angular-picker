!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],t);else{var n=t("object"==typeof exports?require("angular"):e.angular);for(var l in n)("object"==typeof exports?exports:e)[l]=n[l]}}(this,function(e){return function(e){function t(l){if(n[l])return n[l].exports;var i=n[l]={exports:{},id:l,loaded:!1};return e[l].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=l(i),a=n(3),r=l(a);n(2),t["default"]=s["default"].module("angularPicker",[]).directive("picker",r["default"]).name,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){},function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function i(){"ngInject";return{scope:{options:"=?",choices:"=",ngModel:"="},templateUrl:c["default"],controllerAs:"vm",bindToController:!0,controller:["$scope",function(e){function t(e,t){var n={};return e.filter(function(e){var l=t(e);return!n.hasOwnProperty(l)&&(n[l]=!0)})}var n=this,l={items:[],shown:[],selected:[],pages:[],currentPage:1,pagesLen:1,itemsLen:0};n.ngModel=n.ngModel||[],n.left={},n.right={},n.options=n.options||{},n.pageSize=10,n.left=a["default"].copy(l),n.right=a["default"].copy(l),n.right.items=n.ngModel,n.right.itemsLen=n.ngModel.length,n.choices&&(n.choices=n.choices.concat(n.ngModel)),n.filterChoices=function(){var e=a["default"].copy(n.right.items);n.ngModel=a["default"].copy(n.right.items),n.right.pages=[],n.left.pages=[];var l=[];if(a["default"].forEach(n.choices,function(t){var n=!1;a["default"].forEach(e,function(e){t.id===e.id&&(n=!0)}),n||l.push(t)}),n.left.items=l.slice(0),n.left.itemsLen=l.length,l&&l.length>0)for(;l.length>0;)n.left.pages.push(l.splice(0,n.pageSize));if(n.left.pagesLen=n.left.pages.length,n.left.currentPage>n.left.pages.length&&n.left.pages.length>0&&(n.left.currentPage=n.left.pages.length),n.left.shown=n.left.pages[Math.min(n.left.currentPage,n.left.pages.length)-1],e&&e.length>0)for(;e.length>0;)n.right.pages.push(e.splice(0,n.pageSize));n.right.currentPage>n.right.pages.length&&n.right.pages.length>0&&(n.right.currentPage=n.right.pages.length),n.right.pagesLen=n.right.pages.length,n.right.itemsLen=n.ngModel.length,n.right.shown=n.right.pages[Math.min(n.right.currentPage,n.right.pages.length)-1],n.right.filter&&n.filterShownItems("right"),n.left.filter&&n.filterShownItems("left"),n.choices=t(n.choices,function(e){return e.id})},n.filterShownItems=function(e){var t=n[e].filter;if(t){n[e].pages=[];var l=n[e].items,i=[];for(n[e].shown=[],a["default"].forEach(l,function(e){var l=e.label||n.options.label(e);l.toLowerCase().indexOf(t.toLowerCase())>-1&&i.push(e)}),n[e].itemsLen=i.length;i.length>0;)n[e].pages.push(i.splice(0,n.pageSize));n[e].shown=n[e].pages[0],n[e].currentPage=1,n[e].pagesLen=n[e].pages.length}else n.filterChoices()},n.clearFilter=function(e){n[e].filter="",n.filterChoices()},e.$watch(function(){return n.choices},function(){n.filterChoices()},!0),e.$watch(function(){return n.ngModel.length},function(){n.right.items=a["default"].copy(n.ngModel),n.filterChoices()}),n.move=function(e,t){if(t){var l="left"===e?"right":"left";n[l].items=n[l].items.filter(function(e){return e.id!==t.id}),n[e].items=n[e].items||[],n[e].items.push(t),n.filterChoices()}},n.nextPage=function(e){n[e].shown=n[e].pages[n[e].currentPage++]},n.previousPage=function(e){n[e].currentPage--,n[e].shown=n[e].pages[n[e].currentPage-1]},n.moveAll=function(e){var t="left"===e?"right":"left",l=a["default"].copy(n[t].items);n[e].items=n[e].items||[],a["default"].forEach(l,function(l){n[t].items=n[t].items.filter(function(e){return e.id!==l.id}),n[e].items.push(l)}),n[t].selected=[],n[e].selected=[],n.filterChoices()},n.moveSelected=function(e){var t="left"===e?"right":"left",l=n[t].items.slice(0);n[e].items=n[e].items||[],a["default"].forEach(l,function(l){n.isItemSelected(t,l)&&(n[t].items=n[t].items.filter(function(e){return e.id!==l.id}),n[e].items.push(l))}),n[t].selected=[],n[e].selected=[],n.filterChoices()},n.toggleSelected=function(e,t){n.isItemSelected(e,t)?n[e].selected=n[e].selected.filter(function(e){return e.id!==t.id}):n[e].selected.push(t)},n.isItemSelected=function(e,t){var l=!1;return a["default"].forEach(n[e].selected,function(e){t.id===e.id&&(l=!0)}),l},n.sortableOptions={placeholder:"item",connectWith:".item-container"}}]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var s=n(1),a=l(s),r=n(4),c=l(r);e.exports=t["default"]},function(e,t){var n="/home/michael/SingleComm/angular-picker/src/templates/picker.html",l='<div class="picker row"> <div class="col-xs-6 left-control"> <label>Available</label> <span class="fa fa-times clear-filter" ng-if=vm.left.filter ng-click="vm.clearFilter(\'left\')"></span> <input ng-model=vm.left.filter type=search class=form-control placeholder=Filter ng-change="vm.filterShownItems(\'left\')"/> <div class=buttons> <button type=button ng-click="vm.moveAll(\'right\')" class=all type=button><i class="fa fa-angle-double-right"></i></button> <button type=button ng-click="vm.moveSelected(\'right\')" class=single type=button><i class="fa fa-angle-right"></i></button> </div> <div class=item-container-wrapper> <ul class=item-container> <span class=picker-message ng-if=!vm.left.shown.length> <span ng-if=vm.left.filter>No items found</span> <span ng-if=!vm.left.filter>No items available</span> </span> <li ng-dblclick="vm.move(\'right\', item)" ng-class="{ active: vm.isItemSelected(\'left\', item) }" class="item lock" ng-click="vm.toggleSelected(\'left\', item)" ng-repeat="item in vm.left.shown"> <span>{{vm.options.label ? vm.options.label(item) : item.label}}</span> </li> </ul> </div> <p class=clearfix> <span class=pull-left>{{ vm.left.selected.length }} selected. Showing {{ vm.left.shown.length }} of {{ vm.left.itemsLen }}.</span> <span class=pull-right ng-if="vm.left.pagesLen>1"> <button type=button ng-disabled="vm.left.currentPage == \'1\'" class="btn btn-xs btn-default" ng-click="vm.previousPage(\'left\')"><span class="fa fa-chevron-left"></span></button> <span>PAGE {{vm.left.currentPage}} OF {{vm.left.pagesLen}}</span> <button type=button ng-disabled="vm.left.currentPage == vm.left.pagesLen" class="btn btn-xs btn-default" ng-click="vm.nextPage(\'left\')"><span class="fa fa-chevron-right"></span></button> </span> </p> </div> <div class="col-xs-6 right-control"> <label>Selected</label> <span class="fa fa-times clear-filter" ng-if=vm.right.filter ng-click="vm.clearFilter(\'right\')"></span> <input ng-model=vm.right.filter type=search class=form-control placeholder=Filter ng-change="vm.filterShownItems(\'right\')"/> <div class=buttons> <button type=button ng-click="vm.moveSelected(\'left\')" class=single type=button><i class="fa fa-angle-left"></i></button> <button type=button ng-click="vm.moveAll(\'left\')" class=all type=button><i class="fa fa-angle-double-left"></i></button> </div> <div class=item-container-wrapper> <ul class=item-container> <span class=picker-message ng-if=!vm.right.shown.length> No items <span ng-if=vm.right.filter>found</span> <span ng-if=!vm.right.filter>selected</span> </span> <li ng-dblclick="vm.move(\'left\', item)" ng-class="{ active: vm.isItemSelected(\'right\', item) }" class=item ng-click="vm.toggleSelected(\'right\', item)" ng-repeat="item in vm.right.shown"> <span>{{vm.options.label ? vm.options.label(item) : item.label}}</span> </li> </ul> </div> <p class=clearfix> <span class=pull-left>{{ vm.right.selected.length }} selected. Showing {{ vm.right.shown.length }} of {{ vm.right.itemsLen }}.</span> <span class=pull-right ng-if="vm.right.pagesLen>1"> <button type=button ng-disabled="vm.right.currentPage == \'1\'" class="btn btn-xs btn-default" ng-click="vm.previousPage(\'right\')"><span class="fa fa-chevron-left"></span></button> <span>PAGE {{vm.right.currentPage}} OF {{vm.right.pagesLen}}</span> <button type=button ng-disabled="vm.right.currentPage == vm.right.pagesLen" class="btn btn-xs btn-default" ng-click="vm.nextPage(\'right\')"><span class="fa fa-chevron-right"></span></button> </span> </p> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,l)}]),e.exports=n}])});
//# sourceMappingURL=angular-picker.min.js.map